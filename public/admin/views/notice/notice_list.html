<div ng-controller="NoticeListCtrl">
  <!-- 페이지 헤더 -->
  <div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
      <h2>공지 리스트</h2>
      <ol class="breadcrumb">
        <li>공지 사항</li>
        <li class="active"><strong>공지 리스트</strong></li>
      </ol>
    </div>
  </div>

  <div class="wrapper wrapper-content animated fadeInRight">
    <div class="ibox">
      <div class="ibox-content">
        <!-- 검색 폼 -->
        <form
          class="form-inline m-b-sm"
          ng-submit="filterList()"
          style="
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div>
            <input
              type="text"
              ng-model="keyword"
              placeholder="제목 검색"
              class="form-control"
            />
            <button type="submit" class="btn btn-primary">검색</button>
          </div>
          <div>
            <a ui-sref="notice.notice_edit" class="btn btn-primary btn-sm"
              >공지 작성</a
            >
          </div>
        </form>

        <!-- 공지 목록 테이블 -->
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>번호</th>
                <th>제목</th>
                <th>등록일</th>
                <th>관리</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in pagedList">
                <td>{{ item.noticeSq }}</td>
                <td>
                  <a ui-sref="notice.notice_edit({ noticeSq: item.noticeSq })"
                    >{{ item.title }}</a
                  >
                </td>
                <td>{{ item.regDate | date:'yyyy-MM-dd HH:mm' }}</td>
                <td>
                  <button
                    class="btn btn-danger btn-xs"
                    ng-click="deleteNotice(item.noticeSq)"
                  >
                    삭제
                  </button>
                </td>
              </tr>
              <tr ng-if="pagedList.length == 0">
                <td colspan="4" class="text-center">등록된 공지가 없습니다.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 페이지네이션 -->
        <div class="pagination">
          <button
            class="btn btn-sm btn-default"
            ng-click="goPage(currentPage-1)"
          >
            이전
          </button>
          <span>{{currentPage}} / {{totalPages}}</span>
          <button
            class="btn btn-sm btn-default"
            ng-click="goPage(currentPage+1)"
          >
            다음
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .wrapper-content {
    min-height: 100vh;
    background-color: #fff;
    padding: 15px;
  }

  /* 검색 폼 */
  .form-inline.m-b-sm input.form-control {
    margin-right: 10px;
  }

  /* 페이지네이션 중앙 고정 + 버튼 클릭 테두리 제거 */
  .pagination {
    position: fixed;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    padding: 5px 10px;
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    display: flex;
    gap: 10px;
    align-items: center;
  }

  .pagination .btn {
    outline: none;
    box-shadow: none;
  }

  .pagination .btn:focus {
    outline: none;
    box-shadow: none;
  }
</style>
